console.log("v1.0.1");const isDebug=!1,timeoutInterstitialAd=50,timeoutRewardedAd=50,useMockObject=!1,loadScript=function(e){return new Promise(function(n,o){const a=document.createElement("script");let t=!1;a.type="text/javascript",a.src=e,a.async=!0,a.onerror=function(e){o(e,a)},a.onload=a.onreadystatechange=function(){t||this.readyState&&"complete"!=this.readyState||(t=!0,n())};const d=document.getElementsByTagName("script")[0];d.parentElement.insertBefore(a,d)})},getHasAds=function(){return{initial:!0,rewarded:!0,interstitial:!0}};let lastAdCall=new Date;const hasAdCooledDown=function(){return Math.round((Date.now()-lastAdCall)/1e3)>=180},hasAds={initial:!0,rewarded:!0,interstitial:!0};let isAdShown=!1,isRewardedAdShown=!1,hasGameReadyCalled=!1;const _pauseGame=function(e){window.famobi.game.pause()},_resumeGame=function(e){isAdShown||isRewardedAdShown||window.famobi.game.resume()},_showAd=function(e,n,o){if(!((o||Math.round((Date.now()-lastAdCall)/1e3)>=180)&&(o?hasAds.initial:hasAds.interstitial)))return void("function"==typeof e&&e());const a=function(){isAdShown=!1,_resumeGame(),"function"==typeof e&&e()};setTimeout(function(){ysdk.adv.showFullscreenAdv({callbacks:{onOpen:function(){lastAdCall=new Date,isAdShown=!0,_pauseGame()},onClose:function(e){a()},onError:function(e){a()},onOffline:function(){}}})},50)},_hasRewardedAd=function(){return window.famobi.hasFeature("rewarded")&&hasAds.rewarded},_rewardedAd=function(e){let n=!1;if(!window.famobi.hasRewardedAd())return void("function"==typeof e&&e());const o=function(){isRewardedAdShown=!1,_resumeGame(),"function"==typeof e&&e({rewardGranted:n,adDidLoad:!0,adDidShow:!0})};setTimeout(function(){ysdk.adv.showRewardedVideo({callbacks:{onOpen:function(){isRewardedAdShown=!0,_pauseGame()},onClose:function(e){o()},onError:function(e){o()},onOffline:function(){},onRewarded:function(){n=!0}}})},50)},_gameReady=function(){hasGameReadyCalled||window.famobi.setPreloadProgress(100),hasGameReadyCalled=!0};let _perc=0;const _setPreloadProgress=function(e){e!==_perc&&(_perc=e)},initSDK=function(){"undefined"==typeof YaGames&&(YaGames={init:function(){return new Promise(function(e,n){e({adv:{showFullscreenAdv:function(e){try{e.callbacks.onOpen()}catch(e){console.log(e)}alert("This is an ad"),setTimeout(function(){try{e.callbacks.onClose()}catch(e){console.log(e)}},1e3)},showRewardedVideo:function(e){try{e.callbacks.onOpen()}catch(e){console.log(e)}if(confirm("Rewarded ad ended. Should a reward be granted?"))try{e.callbacks.onRewarded(),e.callbacks.onClose()}catch(e){console.log(e)}else try{e.callbacks.onClose()}catch(e){console.log(e)}}}})})}}),YaGames.init().then(e=>{console.log("Yandex SDK initialized"),window.ysdk=e,window.famobi_adapters={api:{created:function(){window.famobi.showAd=_showAd,window.famobi.rewardedAd=_rewardedAd,window.famobi.hasRewardedAd=_hasRewardedAd,window.famobi.gameReady=_gameReady,window.famobi.setPreloadProgress=_setPreloadProgress}}},"function"==typeof _loadSnippet&&_loadSnippet()})};loadScript("//yandex.ru/games/sdk/v2").then(initSDK,initSDK);